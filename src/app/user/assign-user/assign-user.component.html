<div class="row">
    <div class="container">
        <div class="form-container">
            <div class="form-header">
                <h2>Assign User</h2>
            </div>
            <!-- <div class="form-date">
                <span class="date-text">Date - 10/11/2022</span>
            </div> -->
            <form [formGroup]="addUserForm" (ngSubmit)="onSubmit()">


                <div class="row mb-3">
                    <!-- User Name -->
                    <div class="col-md-6">
                        <label for="UserName" class="form-label">User Name</label>
                        <input type="text" class="form-control" id="UserName" placeholder="User Name" formControlName="user_name">
                        <div *ngIf="addUserForm.get('user_name')?.invalid && addUserForm.get('user_name')?.touched"
                            class="text-danger">
                            <small *ngIf="addUserForm.get('user_name')?.errors?.['required']">User Name is
                                required.</small>
                            <small *ngIf="addUserForm.get('user_name')?.errors?.['pattern']">User Name can only contain
                                letters and spaces.</small>
                        </div>
                    </div>
                    <!-- From Medical -->
                    <div class="col-md-6">
                        <label for="role" class="form-label">Contact No</label>
                        <input type="text" class="form-control" id="role" placeholder="Contact No" formControlName="contact_no">
                        <div *ngIf="addUserForm.get('contact_no')?.invalid && addUserForm.get('contact_no')?.touched"
                        class="text-danger">
                        <small *ngIf="addUserForm.get('contact_no')?.errors?.['required']">Contact No is
                            required.</small>
                        <small *ngIf="addUserForm.get('contact_no')?.errors?.['pattern']">Contact No must be a
                            10-digit number.</small>
                    </div>
                    </div>
                </div>



                <div class="text-center">
                    <button type="submit" class="btn submit-btn">Submit</button>
                </div>
            </form>
        </div>

        <div class="container my-4">
            <h2 class="text-center mb-4 use">User Details</h2>

            <div class="table-responsive">
                <table class="table table-bordered table-hover align-middle">
                    <thead>
                        <tr>
                            <th scope="col">Sl No</th>
                            <th scope="col">User Name</th>
                            <th scope="col">Id</th>

                            <th scope="col">Contact</th>
                            <th scope="col">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let data of all_user; index as i">
                            <th scope="row">{{i+1}}</th>
                            <td>{{data?.user_name}}</td>
                            <td>{{data?.user_details?.login_id}}</td>

                            <td>{{data?.user_details?.contact_no}}</td>
                            <td>
                                <!-- Checked switch -->
                                <div class="form-check form-switch">
                                    <input 
                                      class="form-check-input" 
                                      type="checkbox" 
                                      role="switch" 
                                      id="flexSwitchCheckChecked{{i}}"
                                      [checked]="data?.user_details?.status === 1"
                                      (change)="toggleStatus(data)"
                                      style="cursor: pointer;" 
                                    />
                                  </div>
                            </td>
                        </tr>


                    </tbody>
                </table>
            </div>
        </div>


    </div>
</div>